{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["\nconst form = document.querySelector(\".feedback-form\");\nconst emailInput = form.querySelector('[name=\"email\"]');\nconst messageInput = form.querySelector('[name=\"message\"]');\n\nform.addEventListener(\"input\", handleInput);\nfunction handleInput(event) {    \n    localStorage.setItem(\"feedback-form-state\", \n                        JSON.stringify(getCurrentState()))\n}\n\n\nfunction getCurrentState(){\n    let email = emailInput.value.trim(); //target.value\n    let message = messageInput.value.trim(); //target.value\n    return {Email: email, Message: message};\n}\n\n//loading initial state from LocalStorage\nif (localStorage.getItem(\"feedback-form-state\")){\n    try {\n        let formState = localStorage.getItem(\"feedback-form-state\");\n        formState = JSON.parse(formState); \n        emailInput.value = formState.Email;\n        messageInput.value = formState.Message; \n    } catch (error) {\n        localStorage.removeItem(\"feedback-form-state\");\n    }\n}\n\n\nform.addEventListener(\"submit\", handleSubmit);\nfunction handleSubmit(event) {\n    event.preventDefault();\n    if (emailInput.value === \"\" || messageInput.value === \"\") {\n        alert(\"All Form fields must be filled!\")\n        return false; //не дає сабміту завершитись і стерти ЛокалСторадж\n    }\n    localStorage.removeItem(\"feedback-form-state\");\n    console.log(getCurrentState());\n    event.target.reset();\n}\n\n// Використання \"let\" для \"emailInput\" та \"messageInput\" може бути оновлено на \"const\",\n// оскільки ці змінні пізніше не змінюються в коді. (Виправлено)\n\n// Ключі об'єкта \"Email\" та \"Message\" повинні бути в нижньому регістрі,\n// щоб відповідати конвенціям назв JavaScript.  (Поки що спеціально залишено для візуалізації)\n// Критичні помилки: Неспівпадання ключів LocalStorage: Ключ, який ви використовуєте для зберігання\n// значення, - \"feedback-form-state\", але під час отримання значень використовуються ключі об'єкта\n// \"Email\" та \"Message\". Ця неузгодженість може призвести до проблем при парсингу даних.\n// Ключі повинні бути в нижньому регістрі, щоб відповідати назвам полів форми. Вправлення назв\n// ключів об'єкта забезпечить узгодженність з назвами полів форми та конвенціями JavaScript."],"names":["form","emailInput","messageInput","handleInput","event","getCurrentState","email","message","formState","handleSubmit"],"mappings":"oDACA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAaD,EAAK,cAAc,gBAAgB,EAChDE,EAAeF,EAAK,cAAc,kBAAkB,EAE1DA,EAAK,iBAAiB,QAASG,CAAW,EAC1C,SAASA,EAAYC,EAAO,CACxB,aAAa,QAAQ,sBACD,KAAK,UAAUC,EAAe,CAAE,CAAC,CACzD,CAGA,SAASA,GAAiB,CACtB,IAAIC,EAAQL,EAAW,MAAM,KAAI,EAC7BM,EAAUL,EAAa,MAAM,KAAI,EACrC,MAAO,CAAC,MAAOI,EAAO,QAASC,CAAO,CAC1C,CAGA,GAAI,aAAa,QAAQ,qBAAqB,EAC1C,GAAI,CACA,IAAIC,EAAY,aAAa,QAAQ,qBAAqB,EAC1DA,EAAY,KAAK,MAAMA,CAAS,EAChCP,EAAW,MAAQO,EAAU,MAC7BN,EAAa,MAAQM,EAAU,OAClC,MAAC,CACE,aAAa,WAAW,qBAAqB,CAChD,CAILR,EAAK,iBAAiB,SAAUS,CAAY,EAC5C,SAASA,EAAaL,EAAO,CAEzB,GADAA,EAAM,eAAc,EAChBH,EAAW,QAAU,IAAMC,EAAa,QAAU,GAClD,aAAM,iCAAiC,EAChC,GAEX,aAAa,WAAW,qBAAqB,EAC7C,QAAQ,IAAIG,EAAe,CAAE,EAC7BD,EAAM,OAAO,OACjB"}